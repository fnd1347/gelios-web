/*!
 * accordion.js v1.4 | MIT License | (c) 2025 Maksim Postnikov
 * https://postnikovmd.com/mods/accordion
 */

!function(t){let e=function(t,n){n=n||{},n={tabs:".accordion",content:".accordion-content",icons:".accordion-icon",elems:".accordion-elem",buttons:".accordion-tab",hover:!1,collapse:!1,gap:0,transition:300,easing:"ease-in-out",filter:!0,arrange:!0,...n},void 0===window.accordion&&(window.accordion={}),void 0===window.accordion.trigger&&(window.accordion.trigger="load");let l=function(){let l=500;"load"!==window.accordion.trigger&&(l=0),setTimeout((function(){let l=Array.from(document.querySelectorAll(t)).find((function(t){return t.querySelector(".t396__artboard")}));l&&l.setAttribute("data-accordion","");let s,u=l.querySelector(".t396__artboard"),f=function(){let f,h,p,g,m,b="window"===t396_ab__getFieldValue(u,"upscale"),y=1;b&&(y=window.tn&&window.tn["ab"+u.getAttribute("data-artboard-recid")]&&window.tn["ab"+u.getAttribute("data-artboard-recid")].scaleFactor||window.tn_scale_factor||1);let w,v=l.querySelectorAll(n.tabs),_=l.querySelectorAll(n.content),A={};_.length>0?(n.filter&&(v=t_filterElems(v)),n.arrange&&(v=t_arrangeElems(v,null,"left")),v.forEach((function(t){t.classList.add("tn-accordion-tab")})),n.filter&&(_=t_filterElems(_)),n.arrange&&(_=t_arrangeElems(_,null,"left")),_.forEach((function(t){t.classList.add("tn-accordion-content")})),s=l,s.classList.add(t.substring(1)+"-container","t-accordion-container"),s.setAttribute("data-accordion-type","inline"),n.type="inline"):(0===v.length&&(v=document.querySelectorAll(t)),v.forEach((function(t){t.classList.add("tn-accordion-tab")})),0===_.length&&(_=document.querySelectorAll(t+"-block")),_.forEach((function(t){t.querySelector("div").classList.add("tn-accordion-content")})),null===document.querySelector(t+"-container")?(s=document.createElement("div"),s.classList.add(t.substring(1)+"-container","t-accordion-container"),v[0].parentNode.insertBefore(s,v[0]),v.forEach((function(t,e){s.appendChild(t),s.appendChild(_[e])})),s.setAttribute("data-accordion-type","default")):s=document.querySelector(t+"-container"),n.type="default"),void 0===n.type&&(n.type="inline");let E=Array.from(s.querySelectorAll(n.elems));E.length&&(n.arrange&&(E=t_arrangeElems(E,s.querySelectorAll(n.slides.selector),"left")),E.forEach((function(t){t.classList.add("tn-accordion-elem")})),n.elems={selector:n.elems,amount:Math.ceil(E.length/v.length)});let x=s.querySelectorAll(n.buttons);if(x.forEach((function(t){t.classList.add("tn-accordion-button")})),v.length>0)if(_.length>0)if(v.length===_.length){switch(n.type){case"inline":{let C={},I=Array.from(v);if(I.length){let k=[],F=[],M=Array.from(v).map((t=>{let e=t.parentElement;for(;e&&!e.classList.contains("tn-group");)e=e.parentElement;return e})).filter((t=>null!==t));if(M.length){M.forEach((function(t){t.classList.add("tn-accordion-card")}));let V=Array.from(M).map((t=>{let e=t.parentElement;for(;e&&!e.classList.contains("tn-group");)e=e.parentElement;return e})).filter((t=>null!==t));if(V.length){let T=M[0].parentElement.closest(".tn-group");T.classList.add("tn-accordion"),g=o(t,n,!0),T.setAttribute("data-max-height-value",g.maxheight),T.setAttribute("data-top-value",t396_group__getFieldValue(T,"top")),k.push(T)}else{let H=document.createElement("div");H.classList.add("tn-accordion"),u.insertBefore(H,M[0]),H.setAttribute("data-nested",""),g=o(t,n),M.forEach((function(t){H.appendChild(t)})),k.push(H)}}else{I.forEach((function(t,e){let o=parseInt(t396_group__getFieldValue(t,"left")),a=o+parseInt(t396_group__getFieldValue(t,"width")),r=!0;for(let n=0;n<F.length;n++)if(o<F[n]){let o=Object.keys(C)[n];C[o].push({tab:t,index:e}),F[n]=Math.max(F[n],a),r=!1;break}r&&(C[o]=[{tab:t,index:e}],F.push(a))}));for(let W in C){let z=C[W],O=document.createElement("div");O.classList.add("tn-accordion");let B,N=z[0].tab.nextSibling,P=z[0].tab.parentElement;z.map((function(t){let e=document.createElement("div");return e.classList.add("tn-accordion-card"),e.setAttribute("data-nested",""),t.tab.parentElement&&t.tab.parentElement.removeChild(t.tab),e.appendChild(t.tab),_[t.index]&&(_[t.index].parentElement&&_[t.index].parentElement.removeChild(_[t.index]),e.appendChild(_[t.index])),O.appendChild(e),e}));if(P?N&&P.contains(N)?P.insertBefore(O,N):P.appendChild(O):u.appendChild(O),O.parentElement&&O.parentElement.closest(".tn-group")){let R=O.parentElement.closest(".tn-group");R.classList.add("tn-accordion"),O=R,B=o(t,n,!0)}else O.setAttribute("data-nested",""),B=o(t,n,!1,z[0].tab);O.setAttribute("data-left-value",B.left),O.setAttribute("data-top-value",B.top),O.setAttribute("data-width-value",B.width),O.setAttribute("data-max-height-value",B.maxheight),O.setAttribute("style","left: "+B.left+"px; top: "+B.top+"px; width: "+B.width+"px"),k.push(O)}}k.forEach((function(t,e){let o=t.parentElement;for(;o;)o.classList.contains("tn-group")&&o.classList.add("tn-accordion-parent"),o=o.parentElement;t.setAttribute("data-accordion-index",e)})),s.setAttribute("data-max-height-value",t396_ab__getHeight(u))}else{f=document.createElement("div"),f.classList.add("tn-accordion"),u.insertBefore(f,v[0]),f.setAttribute("data-nested",""),g=o(t,n),v.forEach((function(t,e){let o=_[e],a=document.createElement("div");a.classList.add("tn-accordion-card"),a.setAttribute("data-nested",""),a.appendChild(t),a.appendChild(o),f.appendChild(a)})),w=s.querySelectorAll(".tn-accordion-card"),f.setAttribute("data-left-value",g.left),f.setAttribute("data-top-value",g.top),f.setAttribute("data-width-value",g.width),f.setAttribute("data-max-height-value",g.maxheight),f.setAttribute("style","left: "+g.left+"px; top: "+g.top+"px; width: "+g.width+"px"),s.setAttribute("data-max-height-value",t396_ab__getHeight(u));let j=f.parentElement;for(;j;)j.classList.contains("tn-group")&&j.classList.add("tn-accordion-parent"),j=j.parentElement}break}case"default":f=s,f.classList.add("tn-accordion"),_.forEach((function(t){t.classList.add("tn-accordion-card")})),v.forEach((function(t){t.classList.add("tn-accordion-card")}))}if(b){function S(){let t,e=window.tn["ab"+l.id.replace("rec","")];t=e&&e.scaleFactor?e.scaleFactor:window.tn_scale_factor,s.setAttribute("data-scalable",""),s.style.setProperty("--zoom",t)}"complete"===document.readyState?S():window.addEventListener("load",(function(){S()}))}switch(window.rescale&&window.rescale.this&&s.setAttribute("data-rescale",""),h=s.querySelectorAll(".tn-accordion"),w=s.querySelectorAll(".tn-accordion-card"),v=s.querySelectorAll(".tn-accordion-tab"),_=s.querySelectorAll(".tn-accordion-content"),p=s.querySelectorAll(n.icons),A.horizontal=Array.from(s.querySelectorAll('.tn-elem[data-elem-type="shape"]')).filter((function(t){return 1===parseInt(t396_elem__getFieldValue(t,"height"))})),A.vertical=Array.from(s.querySelectorAll('.tn-elem[data-elem-type="shape"]')).filter((function(t){return 1===parseInt(t396_elem__getFieldValue(t,"width"))})),_.forEach((function(t){t.setAttribute("data-max-height-value",t.offsetHeight)})),setTimeout((function(){h.forEach((function(t){t.classList.add("process")}))}),10),setTimeout((function(){h.forEach((function(t){t.classList.remove("process")}))}),n.transition),p.forEach((function(t){if(t.classList.add("tn-accordion-icon"),null===s.getAttribute("data-icon-borderradius")){let e,o=t.querySelector(".tn-molecule");if(o?e=!0:o=t.querySelector(".tn-atom"),void 0===n.style&&(n.style={}),void 0===n.style.default&&(n.style.default={}),o){let t=t_convertToHex(getComputedStyle(o).backgroundColor);!1!==t&&(s.setAttribute("data-icon-default",""),n.style.default.backgroundColor=t.toUpperCase());let e=t_convertToHex(getComputedStyle(o).borderColor);!1!==e&&(s.setAttribute("data-icon-default",""),n.style.default.borderColor=e.toUpperCase());let a=parseInt(getComputedStyle(o).borderWidth);0!==a&&(s.setAttribute("data-icon-default",""),n.style.default.borderWidth=a);let r=parseInt(getComputedStyle(o).borderRadius);!1!==r&&s.setAttribute("data-icon-borderradius",r)}}})),A.horizontal.forEach((function(t){t.classList.add("tn-accordion-line","horizontal")})),A.vertical.forEach((function(t){t.classList.add("tn-accordion-line","vertical")})),n.type){case"inline":w.forEach((function(t){t.classList.add("collapsed")})),void 0===n.expand?n.collapse&&void 0===n.active&&(n.active=0):n.expand&&void 0===n.active&&(n.active=0),void 0!==n.active&&w[n.active].classList.remove("collapsed"),n=a(t,n);break;case"default":n=a(t,n),v.forEach((function(t){t.classList.add("collapsed")})),_.forEach((function(t){t.classList.add("collapsed")})),void 0===n.expand?n.collapse&&void 0===n.active&&(n.active=0):n.expand&&void 0===n.active&&(n.active=0),void 0!==n.active&&(v[n.active].classList.remove("collapsed"),_[n.active].classList.remove("collapsed"))}i(t,n),c(t,n);let L,q=s.querySelectorAll(".tn-accordion-bottom");L=x.length>0?x:v,L.forEach((function(e,o){let a=function(e){let a,i,d;switch(n.type){case"inline":a=w[o],i=function(t){"all"===t?n.collapse&&w.forEach((function(t){t.classList.add("collapsed")})):(!0===n.collapse&&!0!==n.expand||!0!==n.collapse)&&a.classList.add("collapsed")},d=function(){i("all"),a.classList.remove("collapsed")};break;case"default":a=v[o],i=function(t){"all"===t?n.collapse&&(v.forEach((function(t){t.classList.add("collapsed")})),_.forEach((function(t){t.classList.add("collapsed")}))):(!0===n.collapse&&!0!==n.expand||!0!==n.collapse)&&(a.classList.add("collapsed"),_[o].classList.add("collapsed"))},d=function(){i("all"),a.classList.remove("collapsed"),_[o].classList.remove("collapsed"),"function"==typeof t_lazyload_update&&t_lazyload_update()}}switch(e){case"expand":d();break;case"collapse":i("all");break;default:a.classList.contains("collapsed")?d():i()}if(n.active=o,n.animating=!0,setTimeout((function(){n.animating=!1}),n.transition),n=r(t,n),c(t,n),n.scroll){let t=Math.round(n.cards.offset[o])-Math.round(window.innerHeight/5);window.pageYOffset!==t&&window.scrollTo({top:t,behavior:"smooth"})}};if(n.hover){if(e.addEventListener("mouseenter",(function(){n.animating||a()})),q[o]&&q[o].addEventListener("mouseenter",(function(){n.animating||a()})),!1===n.expand){let t=e.closest(".tn-accordion");t&&t.addEventListener("mouseleave",(function(){n.animating||(n.collapse?a("collapse"):a())}))}}else e.addEventListener("click",(function(){a()})),q[o]&&q[o].addEventListener("click",(function(){a()}))})),void 0===n.listeners&&(n.listeners={}),void 0===n.listeners.resize&&(window.addEventListener("resize",(function(){n.currentWidth!==window.innerWidth&&(clearTimeout(m),m=setTimeout((function(){d(t),setTimeout((function(){window.accordion.trigger="resize",e(t,n)})),n.currentWidth=window.innerWidth}),500))})),n.listeners.resize=!0),n.id=t.substring(1).replace("uc-","").replace("rec",""),window.accordion[n.id]=n,"load"===window.accordion.trigger&&t_dispatchEvent("accordion","init",n.id)}else t_sendError("accordion-diff-amount","Количество вкладок ("+n.tabs+": "+v.length+") и контента ("+n.content+": "+_.length+") не совпадает ("+t+")");else t_sendError("accordion-no-content","Не задан контент "+n.content+" для аккордеона ("+t+")");else t_sendError("accordion-no-tabs","Не заданы табы "+n.tabs+" для аккордеона ("+t+")")};if(window.tn)f();else{let t=setInterval((function(){window.tn&&window.tn["ab"+u.getAttribute("data-artboard-recid")]&&(f(),clearInterval(t))}),100)}}),l)};void 0===n.event?t_onReady((function(){l()})):void 0===n.timeout||isNaN(n.timeout)?t_catchEvent(n.event,(function(){l()})):t_catchEvent(n.event,(function(){setTimeout((function(){l()}),Math.max(n.timeout,0))}))},o=function(t,e,o,a){let r=document.querySelector("."+t.substring(1)+"-container"),n=r.querySelector(".t396__artboard"),i=0;"window"===t396_ab__getFieldValue(n,"upscale")?window.rescale&&window.rescale.this&&window.tn["ab"+n.getAttribute("data-artboard-recid")].grid_offset_left&&(i=parseInt(window.tn["ab"+n.getAttribute("data-artboard-recid")].grid_offset_left)):window.tn["ab"+n.getAttribute("data-artboard-recid")].grid_offset_left&&(i=parseInt(window.tn["ab"+n.getAttribute("data-artboard-recid")].grid_offset_left));let c=r.querySelector(".tn-accordion"),d=r.querySelectorAll(".tn-accordion-tab");e.arrange&&(d=t_arrangeElems(d,null,"left"));let l,s=r.querySelectorAll(".tn-accordion-content");e.arrange&&(s=t_arrangeElems(s,null,"left")),[...d,...s].every((function(t){return"window"===t396_elem__getFieldValue(t,"container")}))||"window"===t396_elem__getFieldValue(c,"container")?e.bind="window":e.bind="grid",r.setAttribute("data-bind",e.bind),l=o?c:a||d[0];let u=parseInt(t396_group__getFieldValue(l,"left"));return"grid"===e.bind&&(u+=i),{left:u,top:parseInt(t396_group__getFieldValue(l,"top")),width:parseInt(t396_group__getFieldValue(l,"width")),height:parseInt(t396_group__getFieldValue(l,"height")),maxheight:Array.from(d).reduce(((t,e,o)=>t+(d[o].offsetHeight+s[o].offsetHeight)),0)}},a=function(t,e){let o=document.querySelector("."+t.substring(1)+"-container");switch(o.classList.add("calculate"),e.type){case"inline":{let t=o.querySelector(".t396__artboard"),a=1;"window"===t396_ab__getFieldValue(t,"upscale")&&"window"!==o.getAttribute("data-bind")&&(a=window.tn&&window.tn["ab"+t.getAttribute("data-artboard-recid")]&&window.tn["ab"+t.getAttribute("data-artboard-recid")].scaleFactor||window.tn_scale_factor||1),void 0===e.artboard&&(e.artboard={}),void 0===e.artboard.height&&(e.artboard.height={}),void 0===e.artboard.offset&&(e.artboard.offset={});let r=o.querySelectorAll(".tn-accordion");void 0===e.accordion&&(e.accordion={}),void 0===e.accordion.height&&(e.accordion.height={}),void 0===e.accordion.offset&&(e.accordion.offset={});let i=o.querySelectorAll(".tn-accordion-card");void 0===e.cards&&(e.cards={});let c=o.querySelectorAll(".tn-accordion-tab");void 0===e.cards.tabs&&(e.cards.tabs={});let d=o.querySelectorAll(".tn-accordion-content");void 0===e.cards.content&&(e.cards.content={});let l,s=t.classList.contains("t396__artboard-flex");Array.from(o.querySelectorAll(".tn-accordion")).some((t=>t.classList.contains("t396__group-flex"))),t.getAttribute("data-artboard-heightmode");if(e.currentWidth=window.innerWidth,e.artboard.height.max=parseInt(o.getAttribute("data-max-height-value")),e.accordion.offset.top=Math.min.apply(null,Array.from(r).map((function(t){return parseInt(t.getAttribute("data-top-value"))}))),e.cards.tabs.height=Array.from(c).map((t=>t.offsetHeight)),e.cards.tabs.amount=c.length,e.cards.content.height=Array.from(d).map((t=>parseInt(t.getAttribute("data-max-height-value")))),e.cards.content.amount=d.length,e.cards.height=Array.from(i).map((t=>{let e=t.querySelector(".tn-accordion-tab"),o=t.querySelector(".tn-accordion-content");return e.offsetHeight+parseInt(o.getAttribute("data-max-height-value"))})),e.cards.amount=i.length,e.accordion.offsets={top:Array.from(i).map((t=>t.offsetTop)),bottom:Array.from(i).map((t=>t.offsetTop+t.offsetHeight))},e.accordion.gaps=Array.from(r).map((function(t){let o=t.querySelectorAll(".tn-accordion-card");return e.gap*(o.length-1)})),e.accordion.bottoms=Array.from(r).map((function(t){let e=t.querySelectorAll(".tn-accordion-bottom");return Array.from(e).reduce(((t,e)=>t+e.offsetHeight),0)||0})),e.accordion.height.gaps=Math.max(...e.accordion.gaps),e.accordion.height.max=Math.max(...e.accordion.offsets.bottom)-Math.min(...e.accordion.offsets.top)+e.accordion.height.gaps,o.classList.add("collapse"),e.accordion.offsets.top=Array.from(i).map((t=>t.offsetTop)),e.accordion.height.min=Math.max(...e.accordion.offsets.top.map(((t,o)=>t+e.cards.tabs.height[o])))-Math.min(...e.accordion.offsets.top)+e.accordion.height.gaps,o.classList.remove("collapse"),delete e.accordion.offsets,e.accordion.offset.bottom=e.artboard.height.max-e.accordion.height.max-e.accordion.offset.top+e.accordion.height.gaps,void 0===e.dynamic)if(l=Array.from(o.querySelectorAll(".t396__artboard .tn-elem, .t396__artboard .tn-group")).filter((function(t){return null===t.closest(".tn-accordion")&&t.offsetTop>=e.accordion.offset.top+e.accordion.height.max-e.accordion.height.gaps})),l.forEach((function(t){t.classList.add("tn-accordion-dynamic")})),e.dynamic={},e.dynamic.elems=l.length,e.dynamic.elems>0){let t=Math.max(...l.map((t=>t.offsetTop+t.offsetHeight)));e.dynamic.offset={},e.dynamic.offset.top=Math.min(...l.map((t=>t.offsetTop))),e.dynamic.offset.bottom=e.artboard.height.max-t,e.accordion.offset.bottom=e.dynamic.offset.bottom,e.dynamic.height=t-e.dynamic.offset.top}else e.dynamic.offset={top:0,bottom:0};void 0===e.artboard.padding&&(e.artboard.padding={top:0,bottom:0},s&&(e.artboard.padding.top=function(){if(t.classList.contains("t396__artboard-flex")){let e=t396_ab__getFieldValue(t,"padding");if(null!==e)return parseInt(e.split(" ")[0],10)}return 0}(),e.artboard.padding.bottom=function(){if(t.classList.contains("t396__artboard-flex")){let e=t396_ab__getFieldValue(t,"padding");if(null!==e)return parseInt(e.split(" ")[2],10)}return 0}())),e.artboard.height.min=e.artboard.height.max-(e.accordion.height.max-e.accordion.height.min),s||(e.accordion.height.elems=n(o),e.accordion.height.elems+e.accordion.offset.bottom>e.artboard.height.min&&(e.artboard.height.min=e.accordion.height.elems+e.accordion.offset.bottom+e.accordion.height.gaps),e.accordion.height.elems>e.accordion.height.max+e.accordion.offset.top&&(e.artboard.height.min=e.artboard.height.max));break}case"default":{let t=o.querySelector(".t396__artboard"),a="window"===t396_ab__getFieldValue(t,"upscale"),r=1;a&&(r=window.tn&&window.tn["ab"+t.getAttribute("data-artboard-recid")]&&window.tn["ab"+t.getAttribute("data-artboard-recid")].scaleFactor||window.tn_scale_factor||1);let n=o.querySelectorAll(".tn-accordion-tab"),i=o.querySelectorAll(".tn-accordion-card:has(.tn-accordion-content)"),c=o.querySelectorAll(".tn-accordion-button");void 0===e.cards&&(e.cards={}),void 0===e.cards.tabs&&(e.cards.tabs={}),void 0===e.cards.content&&(e.cards.content={}),void 0===e.artboard&&(e.artboard={}),void 0===e.artboard.offset&&(e.artboard.offset={}),void 0===e.artboard.height&&(e.artboard.height={}),void 0===e.accordion&&(e.accordion={}),void 0===e.accordion.offset&&(e.accordion.offset={}),void 0===e.accordion.height&&(e.accordion.height={}),e.currentWidth=window.innerWidth,e.cards.amount=i.length,e.cards.tabs.height=Array.from(i).map((function(t,e){return Math.round(n[e].offsetHeight/r)})),e.cards.content.height=Array.from(i).map((function(t,e){return Math.round(i[e].offsetHeight/r)})),e.accordion.offset.top=0,"default"===e.type&&c.length&&(e.accordion.offset.top=o.offsetTop-c[0].offsetTop),e.artboard.height.min=Array.from(i).map(((t,e)=>n[e].offsetHeight)).reduce(((t,e)=>t+e),0),e.accordion.height.min=e.artboard.height.min,e.artboard.height.max=Array.from(i).map(((t,e)=>n[e].offsetHeight+i[e].offsetHeight)).reduce(((t,e)=>t+e),0),e.accordion.height.max=e.artboard.height.max;break}}return void 0===e.scroll&&(window.innerHeight<=e.artboard.height.min?e.scroll=!0:e.scroll=!1),e.hover&&(!window.matchMedia("(hover: hover) and (pointer: fine)").matches||window.innerWidth<480?e.hover=!1:(e.scroll=!1,e.collapse=!0)),o.classList.remove("calculate"),e.expand&&void 0===e.active&&(e.active=0),e=r(t,e)},r=function(t,e){let o=document.querySelector("."+t.substring(1)+"-container"),a=o.querySelector(".t396__artboard"),r="window"===t396_ab__getFieldValue(a,"upscale"),n=1;r&&(n=window.tn&&window.tn["ab"+a.getAttribute("data-artboard-recid")]&&window.tn["ab"+a.getAttribute("data-artboard-recid")].scaleFactor||window.tn_scale_factor||1);let i,c=o.querySelectorAll(".tn-accordion"),d=Array.from(c).map((t=>t.querySelectorAll(".tn-accordion-card").length));switch(e.type){case"inline":i=o.querySelectorAll(".tn-accordion-card:has(.tn-accordion-content)"),e.artboard.offset.top=o.querySelector(".t396__artboard").offsetTop,e.cards.offset=function(){let t=document.querySelectorAll(".tn-accordion-card");if(0===t.length)return[0];let o=[],a=0;return d.forEach((r=>{let i=0;o.push(i);for(let c=0;c<r;c++)i+=Math.round(e.cards.tabs.height[a]*n),t[a].classList.contains("collapsed")||(i+=Math.round(e.cards.content.height[a]*n)),o.push(i),a++;o.pop()})),o.map((t=>e.artboard.offset.top+e.accordion.offset.top+t))}();break;case"default":i=o.querySelectorAll(".tn-accordion-card .tn-accordion-content"),e.artboard.offset.top=o.offsetTop,e.cards.offset=function(){if(0===i.length)return[0];let t=[0],o=0;return Array.from(i).forEach(((a,r)=>{o+=e.cards.tabs.height[r],a.classList.contains("collapsed")||(o+=e.cards.content.height[r]),t.push(o)})),t.pop(),t.map((t=>e.artboard.offset.top+e.accordion.offset.top+t))}()}return e.accordion.heights=Array.from(c).map((function(t){return Array.from(t.querySelectorAll(".tn-accordion-card")).reduce((function(t,o,a){let r=Array.from(i).indexOf(o),n=e.cards.tabs.height[r],c=e.cards.content.height[r];return o.classList.contains("collapsed")&&(c=0),t+n+c}),0)})),e.accordion.height.current=Math.max(...e.accordion.heights)+e.accordion.height.gaps,"inline"===e.type&&(e.accordion.height.current+=Math.max(...e.accordion.bottoms)),e.artboard.height.current=e.artboard.height.max-(e.accordion.height.max-e.accordion.height.current)+e.accordion.height.gaps,e.artboard.height.current<e.artboard.height.min&&(e.artboard.height.current=e.artboard.height.min),e},n=function(t){let e=t.querySelector(".t396__artboard");if(!e)return 0;let o=t.querySelector(".tn-accordion");if(!o)return 0;if(null===o.getAttribute("data-artboard-min-height-value")){let a=1;"window"===t396_ab__getFieldValue(e,"upscale")&&"window"!==t.getAttribute("data-bind")&&(a=window.tn["ab"+e.getAttribute("data-artboard-recid")].scaleFactor||window.tn_scale_factor||1);let r=e.querySelectorAll(".tn-elem, .tn-group"),n=0,i=(parseInt(o.getAttribute("data-top-value"))||0)+(parseInt(o.getAttribute("data-max-height-value"))||0);return r.forEach((t=>{let e=null!==t.closest(".tn-accordion")||null!==t.closest(".tn-accordion-parent"),o=t.classList.contains("tn-accordion-dynamic"),a=t.classList.contains("tn-accordion-exclude")||null!==t.closest(".tn-accordion-exclude");if(!e&&!o&&!a){let e=t.offsetTop,o=t.offsetHeight;if(e<i){let t=e+o;n=Math.max(n,t)}}})),o.setAttribute("data-artboard-min-height-value",n),n}return parseInt(o.getAttribute("data-artboard-min-height-value"))||0},i=function(t,e){let o=document.querySelector("."+t.substring(1)+"-container"),a=o.querySelector(".t396__artboard"),r="window"===t396_ab__getFieldValue(a,"upscale"),n=1;r&&"window"!==o.getAttribute("data-bind")&&(n=window.tn&&window.tn["ab"+a.getAttribute("data-artboard-recid")]&&window.tn["ab"+a.getAttribute("data-artboard-recid")].scaleFactor||window.tn_scale_factor||1);let i=o.querySelectorAll(".tn-accordion");"default"===e.type&&(i=o);let c=o.querySelectorAll(".tn-accordion-card:has(.tn-accordion-content)"),d="."+t.substring(1)+"-container { --accordion-transition: "+e.transition+"ms; --accordion-easing: "+e.easing+"; ";void 0===e.style&&(e.style={}),void 0===e.style.icon&&(e.style.icon={}),void 0===e.style.icon.rotate&&(e.style.icon.rotate=180),void 0!==e.style&&(void 0!==e.style.active&&(void 0!==e.style.active.backgroundColor&&(o.setAttribute("data-active-bgcolor",e.style.active.backgroundColor),d+="--active-bgcolor: "+e.style.active.backgroundColor+"; "),void 0!==e.style.active.borderColor&&(o.setAttribute("data-active-bordercolor",e.style.active.borderColor),d+="--active-bordercolor: "+e.style.active.borderColor+"; "),void 0!==e.style.active.borderWidth&&(o.setAttribute("data-active-borderwidth",e.style.active.borderWidth),d+="--active-borderwidth: "+e.style.active.borderWidth+"px; "),void 0!==e.style.active.borderRadius&&(o.setAttribute("data-active-borderradius",e.style.active.borderRadius),d+="--active-borderradius: "+e.style.active.borderRadius+"px; ")),void 0!==e.style.icon&&(void 0!==e.style.icon.backgroundColor&&(o.setAttribute("data-icon-bgcolor",e.style.icon.backgroundColor),d+="--icon-bgcolor: "+e.style.icon.backgroundColor+"; "),void 0!==e.style.icon.backgroundImage&&(o.setAttribute("data-icon-bgimage",e.style.icon.backgroundImage),d+="--icon-bgimage: url("+e.style.icon.backgroundImage+"); "),void 0!==e.style.icon.borderColor&&(o.setAttribute("data-icon-bordercolor",e.style.icon.borderColor),d+="--icon-bordercolor: "+e.style.icon.borderColor+"; "),null!==o.getAttribute("data-icon-borderradius")&&(d+="--icon-borderradius: "+o.getAttribute("data-icon-borderradius")+"px; "),void 0!==e.style.icon.borderWidth&&(o.setAttribute("data-icon-borderwidth",e.style.icon.borderWidth),d+="--icon-borderwidth: "+e.style.icon.borderWidth+"; "),void 0!==e.style.icon.rotate&&(o.setAttribute("data-icon-rotate",e.style.icon.rotate),d+="--icon-rotate: "+e.style.icon.rotate+"deg; ")),void 0!==e.style.elems&&void 0!==e.style.elems.opacity&&(o.setAttribute("data-elems-opacity",e.style.elems.opacity),d+="--elems-opacity: "+e.style.elems.opacity+"; "),e.gap>0&&(o.setAttribute("data-gap",e.gap),d+="--gap: "+e.gap+"px; "));let l="";switch(e.type){case"inline":{let a=o.querySelectorAll(".tn-accordion"),r=0;a.forEach((function(o,a){o.querySelectorAll(".tn-accordion-card:has(.tn-accordion-content)").forEach((function(o,n){l+=t+' .tn-accordion[data-accordion-index="'+a+'"] .tn-accordion-card:nth-child('+(n+1)+") .tn-accordion-content { max-height: "+e.cards.content.height[r]+"px } ",r+=1}))}));break}case"default":c.forEach((function(o,a){l+=t+"-container #"+o.id+" .tn-accordion-content { height: "+Math.round(e.cards.content.height[a]*n)+"px } "}))}let s="";void 0!==e.style.default&&(s="."+t.substring(1)+"-container[data-icon-default] .tn-accordion-card.collapsed .tn-accordion-icon {",void 0!==e.style.default.backgroundColor&&(s+="background-color: "+e.style.default.backgroundColor+"!important; "),void 0!==e.style.default.borderColor&&(s+="border-color: "+e.style.default.borderColor+"!important; "),void 0!==e.style.default.borderWidth&&(s+="border-width: "+e.style.default.borderWidth+"px !important; "),s+="} ");let u=document.createElement("style");if(u.classList.add("tn-accordion-style"),u.textContent=d+"} "+l+s,o.appendChild(u),!window.accordion.loaded){let t=document.createElement("link");t.rel="stylesheet",t.href="https://cdn.postnikovmd.com/tilda@"+window.accordion.version+"/accordion.min.css",document.head.appendChild(t),window.accordion.loaded=!0}},c=function(t,e){let o=document.querySelector("."+t.substring(1)+"-container"),a=o.querySelector(".t396__artboard"),r=1;"window"===t396_ab__getFieldValue(a,"upscale")&&"window"!==o.getAttribute("data-bind")&&(r=window.tn&&window.tn["ab"+a.getAttribute("data-artboard-recid")]&&window.tn["ab"+a.getAttribute("data-artboard-recid")].scaleFactor||window.tn_scale_factor||1);let n,i=o.querySelector(".tn-accordion-local-style");switch(i&&i.remove(),e.type){case"inline":{let i=o.querySelectorAll(".tn-accordion-dynamic"),c=e.artboard.height.current-e.artboard.height.max,d=a.classList.contains("t396__artboard-flex");n="#allrecords "+t+" .t396__artboard { height: "+Math.round(e.artboard.height.current*r)+"px !important; min-height: "+Math.round(e.artboard.height.current*r)+"px !important } ",i.forEach((function(e){if(!d){let o,a;e.classList.contains("tn-group")?(o=parseInt(t396_group__getFieldValue(e,"top")),a=e.getAttribute("data-group-id"),n+=t+' .tn-accordion-dynamic[data-group-id="'+a+'"] { top: '+parseInt(o+c)+"px !important }"):(o=parseInt(t396_elem__getFieldValue(e,"top")),a=e.getAttribute("data-elem-id"),n+=t+' .tn-accordion-dynamic[data-elem-id="'+a+'"] { top: '+parseInt(o+c)+"px !important }")}}));let l=document.createElement("style");l.classList.add("tn-accordion-local-style"),l.textContent=n,o.appendChild(l);break}}},d=function(t){let e=document.querySelector("."+t.substring(1)+"-container");if(!e)return;let o=e.querySelectorAll(".tn-accordion"),a=e.querySelector(".t396__artboard"),r=e.querySelectorAll(".tn-accordion-tab"),n=e.querySelectorAll(".tn-accordion-content"),i=e.querySelectorAll(".tn-accordion-elem"),c=e.querySelectorAll(".tn-accordion-icon");switch(e.getAttribute("data-accordion-type")){case"inline":o.forEach((function(t){let e=t.nextSibling,o=t.parentElement||a,r=t.querySelectorAll(".tn-accordion-card");r.forEach((function(t){let e=t.querySelector(".tn-accordion-tab");if(e){let t=e.cloneNode(!0);e.parentNode.replaceChild(t,e)}})),r.forEach((function(t){if(t.classList.remove("collapsed"),!t.classList.contains("tn-group")){let a=t.querySelector(".tn-accordion-tab"),r=t.querySelector(".tn-accordion-content");a&&(e&&o.contains(e)?o.insertBefore(a,e):o.appendChild(a)),r&&(e&&o.contains(e)?o.insertBefore(r,e):o.appendChild(r))}})),t.removeAttribute("data-left-value"),t.removeAttribute("data-top-value"),t.removeAttribute("data-width-value"),t.removeAttribute("data-max-height-value"),t.removeAttribute("data-rescale"),t.style.removeProperty("--zoom"),t.removeAttribute("style"),t.classList.contains("tn-group")||t.remove()})),e.classList.remove(t.substring(1)+"-container","t-accordion-container"),e.removeAttribute("data-max-height-value"),r.forEach((function(t){t.classList.remove("tn-accordion-tab")})),n.forEach((function(t){t.classList.remove("tn-accordion-content"),t.removeAttribute("data-max-height-value")})),i.forEach((function(t){t.classList.remove("tn-accordion-elem")})),c.forEach((function(t){t.classList.remove("tn-accordion-icon")})),a.style.removeProperty("height");break;case"default":n=e.querySelectorAll(".tn-accordion-card:has(.tn-accordion-content)"),r.forEach((function(t){t.classList.remove("tn-accordion-tab","tn-accordion-card","collapsed")})),n.forEach((function(t){t.classList.remove("tn-accordion-card","collapsed");let e=t.querySelector(".tn-accordion-content");e&&e.classList.remove("tn-accordion-content")})),i.forEach((function(t){t.classList.remove("tn-accordion-elem")})),c.forEach((function(t){t.classList.remove("tn-accordion-icon")})),o.forEach((function(t){t.classList.remove("tn-accordion")}))}let d=e.querySelector(".tn-accordion-style");d&&d.remove();let l=e.querySelector(".tn-accordion-local-style");l&&l.remove()};window.t_filterElems=function(t,e){void 0===e&&(e={}),void 0===e.nesting&&(e.nesting=1),void 0===e.exclude&&(e.exclude=!1);let o=[];return t.length&&t.forEach((function(t){let a=t;if(a.classList.contains("tn-atom")&&(a=a.closest(".tn-elem")),e.exclude&&"none"===window.getComputedStyle(a).display)return;let r=a.closest(".tn-group");for(let t=1;t<e.nesting&&r;t++)r=r.parentElement?.closest(".tn-group");if(r&&null!==r)-1===o.indexOf(a.closest(".tn-group"))&&o.push(a.closest(".tn-group"));else{let r=t.closest(".tn-molecule");if(r){let t=r.closest(".tn-group");for(let o=1;o<e.nesting&&t;o++)t=t.parentElement?.closest(".tn-group");t&&null!==t?-1===o.indexOf(r.closest(".tn-group"))&&o.push(r.closest(".tn-group")):-1===o.indexOf(a)&&o.push(a)}else-1===o.indexOf(a)&&o.push(a)}})),o},window.t_arrangeElems=function(t,e,o){if(Array.from(t).every((function(t){let e=t.closest(".tn-molecule");return e&&e.parentElement?.classList.contains("t396__group-flex")})))return t;if(void 0===o&&(o="top"),t.length>0){if(e&&e.length>0){let a=Array.from(e).map(((t,e)=>{let o;return o=t.classList.contains("tn-group")?"group":"field",{elem:t,left:parseInt(t396_elem__getFieldValue(t,"left"))||0,top:parseInt(t396_elem__getFieldValue(t,"top"))||0,width:parseInt(t396_elem__getFieldValue(t,"width"))||0,height:parseInt(t396_elem__getFieldValue(t,"height"))||0,index:e}}));a.sort((function(t,e){switch(o){case"top":return Math.abs(t.top-e.top)<=(t.height+e.height)/4?t.left-e.left:t.top-e.top;case"left":return Math.abs(t.left-e.left)<=(t.width+e.width)/4?t.top-e.top:t.left-e.left}}));let r=new Map;a.forEach(((t,e)=>{r.set(t.index,e)}));let n=Array.from(t).map(((t,e)=>({elem:t,baseIndex:r.get(e)})));return n.sort(((t,e)=>t.baseIndex-e.baseIndex)),n.map((t=>t.elem))}{let e=Array.from(t).map((function(t){let e;return e=t.classList.contains("tn-group")?"group":"field",{elem:t,left:parseInt(t396_elem__getFieldValue(t,"left"))||0,top:parseInt(t396_elem__getFieldValue(t,"top"))||0,width:parseInt(t396_elem__getFieldValue(t,"width"))||0,height:parseInt(t396_elem__getFieldValue(t,"height"))||0}}));return e.sort((function(t,e){switch(o){case"top":return Math.abs(t.top-e.top)<=(t.height+e.height)/4?t.left-e.left:t.top-e.top;case"left":return Math.abs(t.left-e.left)<=(t.width+e.width)/4?t.top-e.top:t.left-e.left}})),e.map((t=>t.elem))}}return[]},window.t_convertToHex=function(t){let e=t.match(/\d+\.?\d*/g);return!(!e||3!==e.length&&4!==e.length)&&((4!==e.length||0!==parseFloat(e[3]))&&"#"+parseInt(e[0]).toString(16).padStart(2,"0")+parseInt(e[1]).toString(16).padStart(2,"0")+parseInt(e[2]).toString(16).padStart(2,"0"))},window.t_catchEvent=function(t,e){let o=new Set,a=new Set;t.split(", ").map((function(t){return t.trim()})).forEach((function(t){a.add(t),window.addEventListener(t,(function(){o.add(t),o.size===a.size&&e()}))}))},window.t_dispatchEvent=function(t,e,o,a){void 0===a&&(a=10),void 0===e&&(e=""),o=void 0===o?"":"-"+o,setTimeout((function(){window.dispatchEvent(new Event(t+e+o))}),a)},window.t_sendError=function(t,e,o){window.mods||(window.mods={}),window.mods.errors||(window.mods.errors=[]),void 0===o&&(o="error");let a,r,n=t.indexOf("-");if(-1!==n?(a=t.substring(0,n),r=t.substring(n+1)):(a=t,r=void 0),!window.mods.errors.some((function(t){return t.message===e}))){let t={mod:a,type:o};void 0!==r&&(t.id=r),void 0!==e&&(t.message=e),window.mods.errors.push(t)}switch(o){case"error":o="Ошибка",console.error("["+a+".js] "+o+": "+e);break;case"warn":o="Предупреждение",console.warn("["+a+".js] "+o+": "+e)}},void 0===window.postnikovmd&&(window.postnikovmd="Maksim Postnikov, https://postnikovmd.com"),t.accordion={init:e,destroy:d,version:"1.4",license:"MIT License: https://postnikovmd.com/mods/license",copyright:"© 2025 Maksim Postnikov"}}(window);