/*!
 * numbers.js v1.4 | MIT License | (c) 2025 Maksim Postnikov
 * https://postnikovmd.com/mods/numbers
 */

!function(e){window.t_catchEvent=function(e,t){let n=new Set,o=new Set;e.split(", ").map((function(e){return e.trim()})).forEach((function(e){o.add(e),window.addEventListener(e,(function(){n.add(e),n.size===o.size&&t()}))}))},window.t_dispatchEvent=function(e,t,n,o){void 0===o&&(o=10),void 0===t&&(t=""),n=void 0===n?"":"-"+n,setTimeout((function(){window.dispatchEvent(new Event(e+t+n))}),o)},window.t_sendError=function(e,t,n){window.mods||(window.mods={}),window.mods.errors||(window.mods.errors=[]),void 0===n&&(n="error");let o,i,r=e.indexOf("-");if(-1!==r?(o=e.substring(0,r),i=e.substring(r+1)):(o=e,i=void 0),!window.mods.errors.some((function(e){return e.message===t}))){let e={mod:o,type:n};void 0!==i&&(e.id=i),void 0!==t&&(e.message=t),window.mods.errors.push(e)}switch(n){case"error":n="Ошибка",console.error("["+o+".js] "+n+": "+t);break;case"warn":n="Предупреждение",console.warn("["+o+".js] "+n+": "+t)}},void 0===window.postnikovmd&&(window.postnikovmd="Maksim Postnikov, https://postnikovmd.com"),e.numbers={init:function(e,t){t=t||{},t={transition:1e3,...t},void 0===window.numbers&&(window.numbers={}),void 0===window.numbers.function&&(window.numbers.function=!1);let n=function(){if(!window.numbers.function){window.numbers.function=!0}let n=document.querySelectorAll(e);n.length>0?n.forEach((function(n,o){n.classList.add(e.substring(1)+"-num"+o);let i=n.querySelector(".tn-atom").textContent.replace(" ",""),r=i.match(/\d/g).join("");if(r){let n,s,d=i.split(r),c=d[0],u=d[1];null==t.start&&(t.start=r),t.start>r||t.start>t.end?(n=null!=t.end?t.end:r,s=t.start,t.reversed=!0):(n=t.start,s=null!=t.end?t.end:r,t.reversed=!1),function(e,t,n,o,i,r,s){function d(e,t){return e.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,t)}let c=setInterval((function(){if(document.querySelector(e+" .tn-atom")){var u,a;clearInterval(c);let m,w,f=[e],v=[t],p=[n],h=["0"],y=[],b=[];function l(){for(let t=0;t<f.length;t++){b[t]=f[t]+" .tn-atom";let n=Number(v[t]),c=Number(p[t]);document.querySelectorAll(f[t]).forEach((function(u){let a=1;if(-1!=navigator.userAgent.indexOf("Firefox")){let e=u.querySelector(".tn-atom__scale-wrapper");e&&(a=e.style.transform.replace(/[^0-9,.]/g,""),setInterval((function(){(e=u.querySelector(".tn-atom__scale-wrapper")).style.transform.replace(/[^0-9,.]/g,"")!=a&&(a=e.style.transform.replace(/[^0-9,.]/g,""))}),100))}else""!=u.style.zoom&&(a=u.style.zoom,setInterval((function(){u.style.zoom!=a&&(a=u.style.zoom)}),10));let l=u.clientHeight/3;y[t]=window.pageYOffset>u.getBoundingClientRect().top*a+window.pageYOffset-document.documentElement.clientHeight+l,y[t]&&"0"==h[t]&&(h[t]="1",function(){let t=[n,c],u=performance.now(),a=t[0],l=t[1],m=o;requestAnimationFrame((function t(n){let o;if(1<=(n=(n-u)/m)&&(n=1),(o=s?l-(l-a)*n:a+(l-a)*n)>=0){let t=d(o," ");document.querySelector(e+" .tn-atom").innerHTML=""+i+t+r}1>n&&requestAnimationFrame(t)}))}())}))}}g=""+r,l(),window.addEventListener("scroll",(u=function(){l()},a||(a=250),function(){let e=this,t=+new Date,n=arguments;m&&t<m+a?(clearTimeout(w),w=setTimeout((function(){m=t,u.apply(e,n)}),a)):(m=t,u.apply(e,n))}))}}),50)}(e+"-num"+o,n,s,t.transition,c,u,t.reversed),t.id=e.substring(1).replace("uc-","").replace("rec",""),window.numbers[t.id]=t,t_dispatchEvent("numbers","init",t.id)}else t_sendError("numbers-no-text","Элемент не содержит текст ("+e+")")})):t_sendError("numbers-no-elems","Элементы не найдены ("+e+")")};void 0===t.event?t_onReady((function(){n()})):void 0===t.timeout||isNaN(t.timeout)?t_catchEvent(t.event,(function(){n()})):t_catchEvent(t.event,(function(){setTimeout((function(){n()}),Math.max(t.timeout,0))}))},version:"1.4",license:"MIT License: https://postnikovmd.com/mods/license",copyright:"© 2025 Maksim Postnikov"}}(window);