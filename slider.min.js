/*!
 * slider.js v1.4 | MIT License | (c) 2025 Maksim Postnikov
 * https://postnikovmd.com/mods/slider
 */

!function(e){let t=function(e,d){d=d||{},d={rows:1,arrows:!1,select:!1,loop:!1,center:!1,transition:300,easing:"ease-in-out",drag:!0,slides:".slide",elems:".slide-elem",blocks:e+"-block",prev:"#prev",next:"#next",padding:!0,vertical:!1,hash:!1,autoplay:!1,interval:6e3,container:".container",arrange:!0,filter:!0,nesting:1,slider:{active:0,slide:{},spacing:{},wrap:{},listeners:{}},...d},void 0===window.slider&&(window.slider={}),void 0===window.drag&&(window.drag={}),void 0===window.drag.loaded&&(window.drag.loaded=!1);let c=function(){let c=document.querySelectorAll(e+", "+e+"-block");if(c.length>0){if(void 0===d.slider.wrap.state&&0===Array.from(document.querySelectorAll("."+e.substring(1)+"-container")).length){let t=document.createElement("div");t.className=e.substring(1)+"-container",c.forEach((e=>{e.parentNode.insertBefore(t,e),t.appendChild(e)}))}d.slides.selector&&(d.slides=d.slides.selector),d.elems.selector&&(d.elems=d.elems.selector);let h,p=Array.from(document.querySelectorAll(e));if(p=p.find((function(e){return null!==e.querySelector(d.slides)})),p){p.classList.add("tn-slider");let c,m=document.querySelector("."+e.substring(1)+"-container");m.classList.add("t-slider-container");let w="window"===t396_ab__getFieldValue(p.querySelector(".t396__artboard"),"upscale"),v=p.querySelector(d.container);v?(v.classList.add("tn-wrapper"),c=v,void 0===d.slider.wrap.state&&v.querySelector(".tn-atom").remove(),d.slider.wrap.state=!0):c=p.querySelector(".t396__artboard");let g=Array.from(m.querySelectorAll(d.slides));if(g.length>0){let e=1;d.slider.wrap.state&&(e=2),d.filter&&(g=t_filterElems(g,{nesting:e,exclude:!0})),d.arrange&&(g=t_arrangeElems(g)),g.forEach((function(e){e.classList.add("tn-slide")})),d.slides={selector:d.slides,amount:g.length}}if(g.length>0){let y=Array.from(m.querySelectorAll(d.elems));y.length>0&&(d.arrange&&(y=t_arrangeElems(y,m.querySelectorAll(d.slides.selector))),y.forEach((function(e){e.classList.add("tn-slide-elem")})),d.elems={selector:d.elems,amount:Math.ceil(y.length/g.length)});let _=Array.from(m.querySelectorAll(d.blocks));_.length>0&&_.forEach((function(e){e.classList.add("tn-slider-block")}));let b=Array.from(m.querySelectorAll('a[href="'+d.prev+'"]')).map((e=>e.classList.contains("tn-atom")||e.classList.contains("tn-molecule")?e.parentElement:e));b.length>0?(b.forEach((e=>e&&e.classList.add("tn-controls","prev"))),d.arrows||(d.arrows=!0)):(b=Array.from(m.querySelectorAll(".prev")),!b.length>0&&(b=Array.from(m.querySelectorAll(`a[href="${d.prev}"]`))),b.length>0?(b.forEach((e=>e.classList.add("tn-controls"))),d.arrows||(d.arrows=!0)):d.arrows&&t_sendError("slider-no-prev","РќРµ РЅР°Р№РґРµРЅР° РєРЅРѕРїРєР° "+d.prev+" ("+e+")"));let L=Array.from(m.querySelectorAll('a[href="'+d.next+'"]')).map((e=>e.classList.contains("tn-atom")||e.classList.contains("tn-molecule")?e.parentElement:e));if(L.length>0?(L.forEach((e=>e&&e.classList.add("tn-controls","next"))),d.arrows||(d.arrows=!0)):(L=Array.from(m.querySelectorAll(".next")),!L.length>0&&(L=Array.from(m.querySelectorAll(`a[href="${d.next}"]`))),L.length>0?(L.forEach((e=>e.classList.add("tn-controls"))),d.arrows||(d.arrows=!0)):d.arrows&&t_sendError("slider-no-next","РќРµ РЅР°Р№РґРµРЅР° РєРЅРѕРїРєР° "+d.next+" ("+e+")")),c){if(c.classList.add("tn-slider-artboard"),d=s(e,d),i(e,d),d.slider.wrap.state){let t=g[0].parentElement?.closest(".tn-group");for(let e=1;e<d.nesting;e++)t=t.parentElement;let i=Array.from(v.children);t?(t.classList.add("tn-slider-group"),v.append(t),t.style.left="",t.style.zoom="",i.forEach((e=>{e.style.zoom=""}))):t_sendError("slider-no-group","Р”Р»СЏ РІСЃС‚СЂР°РёРІР°РЅРёСЏ РІ С€РµР№Рї СЌР»РµРјРµРЅС‚С‹ СЃР»Р°Р№РґРµСЂР° РґРѕР»Р¶РЅС‹ Р±С‹С‚СЊ СЃРіСЂСѓРїРїРёСЂРѕРІР°РЅС‹ ("+e+")")}let y=document.createElement("div");y.className="tn-slider-spacing",y.style.position="absolute",y.style.height=d.slider.slide.height+"px",y.style.top="0px",y.style.left=d.slider.spacing.offsetLeft+d.slider.slide.shiftLeft+"px",y.innerHTML='<div class="tn-atom" style="height: 100%"></div>',c.insertBefore(y,c.firstChild);let _=1;d.slider.wrap.state?_=1:w&&(_=void 0!==window.tn["ab"+p.id.replace("rec","")].scaleFactor?window.tn["ab"+p.id.replace("rec","")].scaleFactor:window.tn_scale_factor);let E=m.querySelector(".tn-slider-spacing");if(w&&(E.style.zoom=_),E.children[0].style.width=d.slider.spacing.width+"px",E.children[0].style.height=Math.min(...d.slider.heights)+"px",E.children[0].style.display="block",c.addEventListener("scroll",function(e,t){let i;return function(...s){clearTimeout(i),i=setTimeout((function(){clearTimeout(i),e(...s)}),t)}}((function(){d.select||(d.slider.active=l(e,d)),d.arrows&&o(e,d)}),100)),d.arrows&&(L.forEach((t=>{if(null===t.getAttribute("href")){let e=t.querySelector("a");e&&e.removeAttribute("href")}else t.removeAttribute("href");t.classList.contains("slider-listener")||(t.classList.add("slider-listener"),t.addEventListener("click",(function(){r(e,d,"next")})))})),b.forEach((t=>{if(null===t.getAttribute("href")){let e=t.querySelector("a");e&&e.removeAttribute("href")}else t.removeAttribute("href");t.classList.contains("slider-listener")||(t.classList.add("slider-listener"),t.addEventListener("click",(function(){r(e,d,"prev")})))}))),d.autoplay&&d.autoplay!==d.interval){let t=setInterval((function(){r(e,d,"next")}),d.interval);L.forEach((e=>{e.addEventListener("click",(function(){clearInterval(t)}))})),b.forEach((e=>{e.addEventListener("click",(function(){clearInterval(t)}))})),c.addEventListener("mousedown",(function(){clearInterval(t)})),c.addEventListener("touchmove",(function(){clearInterval(t)})),d.autoplay=d.interval,delete d.interval}if(d.select)if(g.forEach(((t,i)=>{t.addEventListener("click",(function(){r(e,d,i)}))})),d.hash){let t=f();null!==t&&t!==d.slider.active?r(e,d,t):a(e,d,d.slider.active)}else a(e,d,d.slider.active);else l(e,d);d.arrows&&o(e,d),d.drag&&n(e,d),void 0===d.slider.listeners.resize&&(window.addEventListener("resize",(function(){d.currentWidth!==window.innerWidth&&(clearTimeout(h),h=setTimeout((function(){u(e),setTimeout((function(){t(e,d)}),300),d.currentWidth=window.innerWidth}),500))})),d.slider.listeners.resize=!0),d.active&&r(e,d,d.active),d.id=e.substring(1).replace("uc-","").replace("rec",""),window.slider[d.id]=d,t_dispatchEvent("slider","init",d.id)}else t_sendError("slider-not-zero","РЎР»Р°Р№РґРµСЂ РЅРµ СЏРІР»СЏРµС‚СЃСЏ Zero-Р±Р»РѕРєРѕРј ("+e+")")}else t_sendError("slider-no-slides","РЎР»Р°Р№РґС‹ "+d.slides.selector+" РЅРµ РЅР°Р№РґРµРЅС‹ ("+e+")")}else t_sendError("slider-no-artboard","РќРµ РЅР°Р№РґРµРЅРѕ РЅРё РѕРґРЅРѕРіРѕ Р±Р»РѕРєР°, СЃРѕРґРµСЂР¶Р°С‰РµРіРѕ СЃР»Р°Р№РґС‹ "+(void 0!==d.slides.selector?d.slides.selector:d.slides)+" ("+e+")")}else t_sendError("slider-no-slider","РЎР»Р°Р№РґРµСЂ РЅРµ РЅР°Р№РґРµРЅ ("+e+")")};void 0===d.event?t_onReady((function(){setTimeout((function(){c()}),300)})):void 0===d.timeout||isNaN(d.timeout)?t_catchEvent(d.event,(function(){c()})):t_catchEvent(d.event,(function(){setTimeout((function(){c()}),Math.max(d.timeout,0))}))},i=function(e,t){let i=document.querySelector("."+e.substring(1)+"-container"),s=i.querySelector(".tn-slider-artboard"),r="."+e.substring(1)+"-container { --slider-scale: "+t.scale.factor+"; --slider-transition: "+t.transition+"ms; --slider-easing: "+t.easing+"; --slider-artboard-height: "+t.scale.height+"px; --slider-shift: "+t.slider.slide.shiftLeft+"px; --slides-width: "+t.slider.widths[0]+"px; --slides-height: "+t.slider.heights[0]+"px; --slides-gap: "+t.slider.gaps[0]+"px; ";if("window"===t.bind){let e;i.setAttribute("data-bind","window");try{window.tn["ab"+id]&&void 0!==window.tn["ab"+id].canvas_min_width&&(e=window.tn["ab"+id].canvas_min_width)}catch(t){void 0!==window.rescale&&(void 0!==window.rescale.min?e=window.rescale.min:void 0!==window.rescale.premin&&(e=window.rescale.premin))}r+="--slider-min-width: "+e+"; "}t.select&&i.setAttribute("data-select",""),t.slider.wrap.state&&(r+="--slider-wrap-height: "+t.slider.wrap.height+"px; --slider-wrap-width: "+t.slider.wrap.width+"px; --slider-wrap-offset-left: "+t.slider.wrap.offsetLeft+"px; --slider-wrap-offset-top: "+t.slider.wrap.offsetTop+"px; "),void 0!==t.style&&(void 0!==t.style.active&&(void 0!==t.style.active.backgroundColor&&(i.setAttribute("data-active-bgcolor",t.style.active.backgroundColor),r+="--active-bgcolor: "+t.style.active.backgroundColor+"; "),void 0!==t.style.active.borderColor&&(i.setAttribute("data-active-bordercolor",t.style.active.borderColor),r+="--active-bordercolor: "+t.style.active.borderColor+"; "),void 0!==t.style.active.opacity&&(i.setAttribute("data-active-opacity",t.style.active.opacity),r+="--active-opacity: "+t.style.active.opacity+"; "),void 0!==t.style.active.scale&&(i.setAttribute("data-active-scale",t.style.active.scale),r+="--active-scale: "+t.style.active.scale+"; ")),void 0!==t.style.visible&&(i.setAttribute("data-advanced",""),void 0!==t.style.visible.blur&&(i.setAttribute("data-visible-blur",t.style.visible.blur),r+="--visible-blur: "+t.style.visible.blur+"px; "),void 0!==t.style.visible.grayscale&&(i.setAttribute("data-visible-grayscale",t.style.visible.grayscale),r+="--visible-grayscale: "+t.style.visible.grayscale+"; "),void 0!==t.style.visible.opacity&&(i.setAttribute("data-visible-opacity",t.style.visible.opacity),r+="--visible-opacity: "+t.style.visible.opacity+"; ")),void 0!==t.style.inactive&&(i.setAttribute("data-advanced",""),void 0!==t.style.inactive.blur&&(i.setAttribute("data-inactive-blur",t.style.inactive.blur),r+="--inactive-blur: "+t.style.inactive.blur+"px; "),void 0!==t.style.inactive.grayscale&&(i.setAttribute("data-inactive-grayscale",t.style.inactive.grayscale),r+="--inactive-grayscale: "+t.style.inactive.grayscale+"; "),void 0!==t.style.inactive.opacity&&(i.setAttribute("data-inactive-opacity",t.style.inactive.opacity),r+="--inactive-opacity: "+t.style.inactive.opacity+"; "),void 0!==t.style.inactive.scale&&(i.setAttribute("data-inactive-scale",t.style.inactive.scale),r+="--inactive-scale: "+t.style.inactive.scale+"; ")),void 0!==t.style.controls&&(void 0!==t.style.controls.backgroundColor&&(i.setAttribute("data-controls-bgcolor",t.style.controls.backgroundColor),r+="--controls-bgcolor: "+t.style.controls.backgroundColor+"; "),void 0!==t.style.controls.backgroundImage&&(i.setAttribute("data-controls-bgimage",t.style.controls.backgroundImage),r+="--controls-bgimage: url("+t.style.controls.backgroundImage+"); "),void 0!==t.style.controls.borderColor&&(i.setAttribute("data-controls-bordercolor",t.style.controls.borderColor),r+="--controls-bordercolor: "+t.style.controls.borderColor+"; "))),s&&s.classList.contains("t396__artboard")&&(void 0===t.style&&(t.style={}),t.style.background=t_convertToHex(getComputedStyle(s).backgroundColor),i.setAttribute("data-background",t.style.background),r+="--slider-background: "+t.style.background+"; ");let l=document.createElement("style");if(l.classList.add("tn-slider-styles"),l.textContent=r+"}",i.appendChild(l),!window.slider.loaded){let e=document.createElement("link");e.rel="stylesheet",e.href="https://cdn.postnikovmd.com/tilda@"+window.slider.version+"/slider.min.css",document.head.appendChild(e),window.slider.loaded=!0}},s=function(e,t){let i=document.querySelector("."+e.substring(1)+"-container"),s=Array.from(i.querySelectorAll(".tn-slide"));s.length&&t.arrange&&(s=t_arrangeElems(s));let r=i.querySelector(".tn-slider-artboard"),l=r.getAttribute("data-artboard-recid"),a="window"===t396_ab__getFieldValue(r,"upscale"),o=i.querySelector(t.container),n=i.querySelector(".tn-group:has( > .tn-molecule > .tn-slide)");n&&n.classList.contains("t396__group-flex")&&i.setAttribute("data-flex",""),s.every((function(e){return"window"===t396_elem__getFieldValue(e,"container")}))?t.bind="window":t.bind="grid";let d=Array.from(i.querySelectorAll(".prev")),c=Array.from(i.querySelectorAll(".next"));t.scale=t_getCurrentScale(e),t.slider.wrap.state?(scale=1,t.scale.height=t396_elem__getHeight(r)):(scale=t.scale.factor,t.scale.height=Math.ceil(t396_ab__getHeight(r)*t.scale.factor)),t.slider.offsetLeft=Math.round((window.innerWidth-t.scale.breakpoint*t.scale.factor)/2),t.slider.wrap.state&&(t.slider.offsetLeft=0),t.slider.slide.offsetLeft=0;let f=0;a&&!window.rescale["ab"+l]||window.tn&&window.tn["ab"+l]&&window.tn["ab"+l].grid_offset_left&&(f=window.tn["ab"+l].grid_offset_left);let u=parseInt(t396_elem__getFieldValue(s[0],"left"));t.slider.slide.offsetLeft=u+f-t.slider.offsetLeft,t.slider.wrap.state&&(t.slider.slide.offsetLeft=0),t.slider.widths=[];for(let e=0;e<s.length;e++){let i=parseInt(t396_elem__getFieldValue(s[e],"width"));t.slider.widths.push(parseInt(i))}t_checkUniformity(t.slider.widths)||t_sendError("slider-diff-size","Р Р°Р·РјРµСЂС‹ СЃР»Р°Р№РґРѕРІ РѕС‚Р»РёС‡Р°СЋС‚СЃСЏ ("+e+"). Р”Р»СЏ РєРѕСЂСЂРµРєС‚РЅРѕР№ СЂР°Р±РѕС‚С‹ СЂРµРєРѕРјРµРЅРґСѓРµС‚СЃСЏ Р·Р°РґР°С‚СЊ РёРј РѕРґРёРЅР°РєРѕРІСѓСЋ С€РёСЂРёРЅСѓ","warn"),t.slider.heights=[];for(let e=0;e<s.length;e++){let i=parseInt(t396_elem__getFieldValue(s[e],"height"));t.slider.heights.push(parseInt(i))}t.slider.gaps=[];for(let e=0;e<s.length-1;e++){let i=parseInt(t396_elem__getFieldValue(s[e],"left"))-t.slider.offsetLeft,r=parseInt(t396_elem__getFieldValue(s[e+1],"left"))-t.slider.offsetLeft-i-s[e].offsetWidth;t.slider.gaps.push(r)}if(t.vertical){t.slider.gaps=[];for(let e=0;e<s.length-1;e++){let i=parseInt(t396_elem__getFieldValue(s[e],"top")),r=parseInt(t396_elem__getFieldValue(s[e+1],"top"))-i-s[e].offsetHeight;t.slider.gaps.push(r)}}if(t_checkUniformity(t.slider.gaps)||t_sendError("slider-diff-gaps","Р Р°СЃСЃС‚РѕСЏРЅРёРµ РјРµР¶РґСѓ СЃР»Р°Р№РґР°РјРё РѕС‚Р»РёС‡Р°РµС‚СЃСЏ ("+e+"). Р”Р»СЏ РєРѕСЂСЂРµРєС‚РЅРѕР№ СЂР°Р±РѕС‚С‹ СЂРµРєРѕРјРµРЅРґСѓРµС‚СЃСЏ СЂР°СЃРїРѕР»Р°РіР°С‚СЊ РёС… РЅР° РѕРґРёРЅР°РєРѕРІРѕРј СЂР°СЃСЃС‚РѕСЏРЅРёРё РґСЂСѓРі РѕС‚ РґСЂСѓРіР°","warn"),t.slider.slide.width=t.slider.widths[0]+t.slider.gaps[0],t.slider.slide.spacing=t.slider.gaps[0],t.slider.slide.shiftLeft=0,t.slider.spacing.offsetLeft=t.slider.offsetLeft+t.slider.slide.offsetLeft,t.currentWidth=window.innerWidth,t.slider.wrap.state){switch(t.padding){case!0:t.slider.wrap.offsetLeft=Math.max(parseInt(t396_elem__getFieldValue(s[0],"left"))-parseInt(t396_elem__getFieldValue(o,"left")),0),t.slider.wrap.offsetTop=Math.max(parseInt(t396_elem__getFieldValue(s[0],"top"))-parseInt(t396_elem__getFieldValue(o,"top")),0),t.center&&(t.vertical?t.slider.wrap.offsetTop=0:t.slider.wrap.offsetLeft=0);break;case!1:t.slider.wrap.offsetLeft=0,t.slider.wrap.offsetTop=0;break;default:t.vertical?(t.slider.wrap.offsetTop=t.padding,t.slider.wrap.offsetLeft=Math.max(parseInt(t396_elem__getFieldValue(s[0],"left"))-parseInt(t396_elem__getFieldValue(o,"left")),0)):(t.slider.wrap.offsetLeft=t.padding,t.slider.wrap.offsetTop=Math.max(parseInt(t396_elem__getFieldValue(s[0],"top"))-parseInt(t396_elem__getFieldValue(o,"top")),0))}t.vertical&&(t.slider.slide.height=t.slider.heights[0]+t.slider.gaps[0])}else t.vertical&&(t.vertical=!1);return t.rows>1?(t.slider.rowsShift=Math.round(s[1].offsetLeft-s[0].offsetLeft),s.length%t.rows%2==0?t.slider.width=t.slider.slide.width*Math.floor(s.length/t.rows)-t.slider.slide.spacing+t.slider.rowsShift:t.slider.width=t.slider.slide.width*Math.floor(s.length/t.rows)-t.slider.slide.spacing+t.slider.slide.width):(t.slider.rowsShift=0,t.slider.width=t.slider.slide.width*Math.floor(s.length/t.rows)-t.slider.slide.spacing),t.slider.wrap.state?t.vertical?(t.slider.height=t.slider.slide.height*s.length-t.slider.slide.spacing,t.slider.wrap.height=o.offsetHeight,t.slider.onscreen=Math.floor((t.slider.wrap.height+t.slider.slide.spacing)/t.slider.height*s.length/t.rows)):(t.slider.wrap.width=parseInt(t396_elem__getFieldValue(o,"width")),t.slider.wrap.height=parseInt(t396_elem__getHeight(o)),t.slider.wrap.offset={left:parseInt(t396_elem__getFieldValue(o,"left")),top:parseInt(t396_elem__getFieldValue(o,"top"))},t.slider.onscreen=Math.floor((t.slider.wrap.width+t.slider.slide.spacing)/t.slider.width*s.length/t.rows)):t.slider.onscreen=Math.floor(t.scale.breakpoint/(t.slider.width+2*t.slider.slide.offsetLeft)*s.length/t.rows),isFinite(t.slider.onscreen)||(t.slider.onscreen=0),t.slider.onscreen>s.length&&(t.slider.onscreen=s.length),t.center?(t.rows<=1&&t.slider.onscreen<=2&&(t.slider.onscreen=1),t.slider.onscreen>t.rows&&t.slider.onscreen%2==0?t.slider.midIndex=[Math.floor((t.slider.onscreen+1)/2)-1,Math.ceil((t.slider.onscreen+1)/2)-1]:t.slider.onscreen>t.rows&&t.slider.onscreen%2!=0?t.slider.midIndex=[Math.round((t.slider.onscreen+1)/2)-1]:t.slider.midIndex=[0],t.slider.slide.activeShift=Math.min(...t.slider.midIndex)):(t.slider.midIndex=[0],t.slider.slide.activeShift=0),s.length>t.slider.onscreen?("window"===t.bind?t.slider.spacing.width=t.slider.width+t.slider.spacing.offsetLeft:t.slider.spacing.width=t.slider.width+t.slider.offsetLeft+t.slider.slide.offsetLeft,t.arrows&&d.forEach((e=>e&&e.classList.replace("active","inactive"))),t.center&&(t.slider.wrap.state?t.slider.slide.shiftLeft=Math.ceil((t.slider.wrap.width-(t.slider.slide.width*t.slider.midIndex.length-t.slider.slide.spacing)+t.slider.rowsShift)/2-t.slider.slide.offsetLeft-t.slider.rowsShift):t.slider.slide.shiftLeft=Math.ceil((t.scale.breakpoint-(t.slider.slide.width*t.slider.midIndex.length-t.slider.slide.spacing)+t.slider.rowsShift)/2-t.slider.slide.offsetLeft-t.slider.rowsShift),setTimeout((function(){Array.from(r.children).forEach((function(e){e.classList.contains("tn-slider-spacing")||(e.style.transform="translateX("+t.slider.slide.shiftLeft+"px)")})),r.setAttribute("data-slider-center",""),r.setAttribute("data-slider-onscreen",t.slider.onscreen)}))),t.slider.spacing.width+=t.slider.slide.shiftLeft):(t.slider.spacing.width=t.slider.width+t.slider.spacing.offsetLeft,t.arrows&&(d.forEach((e=>e&&e.classList.replace("active","inactive"))),c.forEach((e=>e&&e.classList.replace("active","inactive"))))),t.slider.wrap.state&&(t.vertical?t.slider.spacing.width+=2*t.slider.wrap.offsetTop:t.slider.spacing.width+=2*t.slider.wrap.offsetLeft),(isMobile||t.select)&&(t.drag=!1),!0===t.autoplay&&(t.loop=!0),!0===t.vertical&&(t.rows=1,t.center=!1,i.setAttribute("data-vertical","")),t},r=function(e,t,i){let s=document.querySelector("."+e.substring(1)+"-container"),r=Array.from(s.querySelectorAll(".tn-slide"));r.length&&t.arrange&&(r=t_arrangeElems(r));let l,n,f=s.querySelector(".tn-slider-artboard"),u=s.querySelector(".tn-wrapper");if(u&&(f=u),l=t.slider.wrap.state?1:t.scale.factor,f){switch(i){case"prev":i=t.slider.active-1,n="prev";break;case"next":i=t.slider.active+1,n="next";break;default:void 0===i?i=t.slider.active:n="auto"}if(i!==t.slider.active){let s,u,h,p=Math.round(t.slider.slide.width*l);s=t.vertical?t.slider.height*l:t.slider.width*l,u=t.vertical?Math.round(f.scrollTop):Math.round(f.scrollLeft),h=t.vertical?t.slider.slide.height:p;let m=.1;if("prev"===n||"next"===n){let c;"next"===n?(c=h,t.update=i<r.length):(c=-h,t.update=i>=0),t.select?(t.loop||t.update)&&(t.slider.active=a(e,t,i),o(e,t),d(f,h*t.slider.active,t.transition)):t.loop?("next"===n?u+h*(1-m)>h*(Math.ceil(r.length/t.rows)-t.slider.onscreen)+t.slider.slide.shiftLeft*l*2?t.scrollTo=0:t.scrollTo=u+h:t.scrollTo=u-h*(1-m)<0?u-h*m<0?s:0:u-h,d(f,t.scrollTo,t.transition,t.vertical)):d(f,u+c,t.transition,t.vertical)}else"auto"===n&&(t.slider.active=a(e,t,i),o(e,t),d(f,Math.round(h*(i/t.rows)),t.transition,t.vertical));t.select&&t.hash&&c(e,t.slider.active)}}},l=function(e,t){let i=document.querySelector("."+e.substring(1)+"-container"),s=Array.from(i.querySelectorAll(".tn-slide"));s.length&&t.arrange&&(s=t_arrangeElems(s));let r=Array.from(i.querySelectorAll(".tn-slide-elem"));r.length&&t.arrange&&(r=t_arrangeElems(r,i.querySelectorAll(t.slides.selector)));let l,a=i.querySelector(".tn-slider-artboard"),o=i.querySelector(".tn-wrapper");o&&(a=o),l=t.slider.wrap.state?1:t.scale.factor;let n=t.thresold||.5;if(void 0===t.slides.visibilities&&(t.slides.visibilities={}),a){let e,i=Math.round(a.offsetWidth/l),o=Math.round(a.offsetHeight/l);e=t.vertical?Math.round(Math.floor(a.scrollTop)/l):Math.round(Math.floor(a.scrollLeft)/l);let d=[],c=[];s.forEach((e=>e.classList.remove("visible","active"))),r.forEach((e=>e.classList.remove("visible","active")));let f=s.map(((s,r)=>{let l,a;t.vertical?(l=parseInt(t396_elem__getFieldValue(s,"top")),t.slider.wrap.state&&(l-=t.slider.wrap.offset.top)):(l=parseInt(t396_elem__getFieldValue(s,"left"))+t.slider.offsetLeft+t.slider.slide.shiftLeft,t.slider.wrap.state&&(l-=t.slider.wrap.offset.left)),a=t.vertical?t.slider.heights[r]:t.slider.widths[r];let n,d=l,c=l+a,f=e+t.slider.slide.offsetLeft;n=t.vertical?e+o:e+i-t.slider.slide.offsetLeft,t.center&&!t.vertical&&(n-=t.slider.slide.shiftLeft);let u,h=Math.round(Math.max(d,f)),p=Math.round(Math.min(c,n)),m=Math.round(Math.max(0,p-h));return u=a>0?Number((m/a).toFixed(4)):0,t.slides.visibilities[r]={viewstart:h,viewend:p,viewsize:m,ratio:u},{index:r,ratio:u,start:d,end:c}}));if(t.center){let s;s=t.vertical?Math.round(e+o/2):Math.round(e+i/2);let r=f.filter((e=>e.start<=s&&e.end>=s));if(r.length>0){r.sort(((e,t)=>t.ratio-e.ratio));let e=t.slider.midIndex.length;d=r.slice(0,e).map((e=>e.index))}else{r=f.filter((e=>e.ratio>=n)).sort(((e,t)=>t.ratio-e.ratio));let e=t.slider.midIndex.length;d=r.slice(0,e).map((e=>e.index))}}else{let e=f.find((e=>e.ratio>=n));if(e)d.push(e.index);else{let e=f.reduce(((e,t)=>t.ratio>e.ratio?t:e),f[0]);e&&d.push(e.index)}}if(void 0!==d[0]){let e=d[0];if(t.center){let i=Math.floor((t.slider.onscreen-1)/2),r=e+Math.floor((t.slider.onscreen-1)/2);for(let t=e-i;t<=r;t++)t>=0&&t<s.length&&t!==e&&c.push(t)}else for(let i=e+1;i<e+t.slider.onscreen&&i<s.length;i++)c.push(i)}return c.forEach((function(e){if(s[e]){s[e].classList.add("visible");for(let i=0;i<t.rows;i++)for(let s=0;s<t.elems.amount;s++){let l=(e*t.rows+i)*t.elems.amount+s;r[l]&&r[l].classList.add("visible")}}})),d.forEach((function(e){if(s[e]){s[e].classList.add("active");for(let i=0;i<t.rows;i++)for(let s=0;s<t.elems.amount;s++){let l=(e*t.rows+i)*t.elems.amount+s;r[l]&&r[l].classList.add("active")}}})),void 0!==d[0]?d[0]:0}},a=function(e,t,i){let s=document.querySelector("."+e.substring(1)+"-container"),r=Array.from(s.querySelectorAll(".tn-slide"));r.length&&t.arrange&&(r=t_arrangeElems(r));let l=Array.from(s.querySelectorAll(".tn-slide-elem"));l.length&&t.arrange&&(l=t_arrangeElems(l,s.querySelectorAll(t.slides.selector)));let a=Array.from(s.querySelectorAll(".tn-slider-block")),o=t.slider.active;if(o=i>r.length-1?t.loop?0:r.length-1:i<0?t.loop?Math.floor((r.length-1)/t.rows):0:Math.floor(i/t.rows),r.length>0&&(r.forEach((e=>e.classList.remove("active"))),r[o].classList.add("active")),l.length>0){l.forEach((e=>e.classList.remove("active")));const e=t.elems.selector.split(",");if(e.length>1&&e.length===t.elems.amount)for(let i=0;i<t.elems.amount;i++){let t=e[i].trim();const r=s.querySelectorAll(t);r.length>o&&r[o].classList.add("active")}else for(let e=0;e<t.elems.amount;e++){const i=o*t.elems.amount+e;l.length>i&&l[i].classList.add("active")}}if(a.length>0){let i=a[o];i?(a.forEach((function(e,i){i!==o&&(e.classList.remove("active"),e.classList.add("inactive"),e.style.opacity="0",0===t.transition?(e.style.visibility="hidden",e.style.display="none"):setTimeout((function(){e.style.visibility="hidden",e.style.display="none"}),t.transition),setTimeout((function(){t_animateElems(e,"reset")}),t.transition))})),0===t.transition?(i.style.display="block",i.style.visibility="visible",i.style.opacity="0",requestAnimationFrame((function(){i.style.opacity="1",i.classList.remove("inactive"),i.classList.add("active")}))):setTimeout((function(){i.style.display="block",i.style.visibility="visible",i.style.opacity="0",requestAnimationFrame((function(){i.style.opacity="1",i.classList.remove("inactive"),i.classList.add("active")}))}),t.transition),setTimeout((function(){t_animateElems(i,"start"),t_lazyload_update()}),t.transition)):t_sendError("slider","РќРµ РЅР°Р№РґРµРЅ Р±Р»РѕРє СЃР»Р°Р№РґР° "+(o+1)+" ("+e+")")}return o},o=function(e,t){let i=document.querySelector("."+e.substring(1)+"-container"),s=i.querySelector(".tn-slider-artboard"),r=i.querySelector(".tn-wrapper");r&&(s=r);let l=Array.from(i.querySelectorAll(".tn-slide"));l.length&&t.arrange&&(l=t_arrangeElems(l));let a,o=Array.from(i.querySelectorAll(".prev")),n=Array.from(i.querySelectorAll(".next"));a=t.slider.wrap.state?1:t.scale.factor;s&&setTimeout((()=>{if(t.loop)o.forEach((e=>{e.classList.remove("inactive"),e.classList.add("active")})),n.forEach((e=>{e.classList.remove("inactive"),e.classList.add("active")}));else{let e,i;e=t.vertical?s.scrollTop:s.scrollLeft,i=t.vertical?t.slider.slide.height:t.slider.slide.width;let r,a,d=s.offsetWidth;r=t.vertical?t.slider.height-s.clientHeight:Math.round((t.slider.spacing.width+t.slider.slide.offsetLeft+t.slider.offsetLeft)*t.scale.factor)-d,a=t.vertical?t.slider.height-s.clientHeight:t.slider.spacing.width-d,t.center&&(r+=t.slider.slide.shiftLeft,a+=t.slider.slide.shiftLeft),"grid"===t.bind?e+2>=r?n.forEach((e=>{e.classList.remove("active"),e.classList.add("inactive")})):n.forEach((e=>{e.classList.remove("inactive"),e.classList.add("active")})):"window"===t.bind&&(e+2>=a?n.forEach((e=>{e.classList.remove("active"),e.classList.add("inactive")})):n.forEach((e=>{e.classList.remove("inactive"),e.classList.add("active")}))),e<=2?o.forEach((e=>{e.classList.remove("active"),e.classList.add("inactive")})):o.forEach((e=>{e.classList.remove("inactive"),e.classList.add("active")})),t.select&&(t.slider.active>=l.length-1?(o.forEach((e=>{e.classList.remove("inactive"),e.classList.add("active")})),n.forEach((e=>{e.classList.remove("active"),e.classList.add("inactive")}))):t.slider.active<=0?(o.forEach((e=>{e.classList.remove("active"),e.classList.add("inactive")})),n.forEach((e=>{e.classList.remove("inactive"),e.classList.add("active")}))):(o.forEach((e=>{e.classList.remove("inactive"),e.classList.add("active")})),n.forEach((e=>{e.classList.remove("inactive"),e.classList.add("active")}))))}}),t.transition)},n=function(e,t){let i=document.querySelector("."+e.substring(1)+"-container"),s=i.querySelector(".tn-slider-artboard"),r=i.querySelector(".tn-wrapper");if(r&&(s=r),!window.drag.loaded){s&&!0===t.drag&&(!function(e,t){let i={mousedown:!1,emaX:0,emaY:0},s={x:0,y:0};function r(e){let t=e.dataset.options?JSON.parse(e.dataset.options):{},s=i.emaX*t.deceleration;s<.01&&s>-.01||(l(e,s,0),setTimeout((()=>r(e)),1e3/t.decelRate))}function l(e,t,s){if((i.emaX<0&&t>0||i.emaX>0&&t<0)&&(i.emaX=0),(i.emaY<0&&s>0||i.emaY>0&&s<0)&&(i.emaY=0),e.dataset.options){let s=JSON.parse(e.dataset.options),r=s.acceleration*t+(1-s.acceleration)*i.emaX,l=e.scrollWidth-e.clientWidth;e.scrollLeft<=0&&t<=0||e.scrollLeft>=l&&t>=0||(e.scrollLeft+=r),i.emaX=r}}e.dataset.options=JSON.stringify(t),t.allowHiliting||(e.onmousedown=e=>e.preventDefault()),e.addEventListener("mousedown",(t=>{i.mousedown=e})),e.addEventListener("mouseup",(s=>{t.allowThrowing&&r(e),i.mousedown=!1})),e.addEventListener("mouseout",(s=>{let l=s.relatedTarget||s.toElement;l&&"HTML"!==l.nodeName||(i.mousedown&&t.allowThrowing&&t.throwOnOut&&r(e),i.mousedown=!1)})),document.addEventListener("mousemove",(e=>{if(i.mousedown){let t=i.mousedown,r=t.dataset.options?JSON.parse(t.dataset.options):{};if(r.rightMouse&&2!==e.button||!r.rightMouse&&2===e.button)return;let a=e.pageX-s.x;r.reverse||(a=-a),l(t,a,0)}s.x=e.pageX,s.y=e.pageY}))}(s,{acceleration:.65,deceleration:.85,decelRate:64}),s.addEventListener("mousedown",(function(){setTimeout((function(){s.style.cursor="grab";s.querySelectorAll(".tn-elem").forEach((e=>{e.style.pointerEvents="none"}))}),100)})),s.addEventListener("mouseup",(function(){setTimeout((function(){s.style.cursor="";s.querySelectorAll(".tn-elem").forEach((e=>{e.style.pointerEvents=""}))}),100)})),t.drag="drag")}},d=function(e,t,i,s=!1){let r;r=s?e.scrollTop:e.scrollLeft;let l=t-r,a=performance.now();requestAnimationFrame((function t(o){let n,d=Math.min((o-a)/i,1);n=d<.5?2*d*d:(4-2*d)*d-1,s?e.scrollTop=r+l*n:e.scrollLeft=r+l*n,d<1&&requestAnimationFrame(t)}))},c=function(e,t){let i="slide"+document.querySelector("."+e.substring(1)+"-container").querySelector(".tn-slider").id.replace("rec","")+"-"+(t+1);history.replaceState(null,"","#"+i)},f=function(){let e=window.location.hash;if(!e||!e.startsWith("#slide"))return null;let t=e.match(/^#slide\d+-(\d+)$/);return t?parseInt(t[1],10)-1:null},u=function(e){let t=document.querySelector("."+e.substring(1)+"-container");if(!t)return;let i=t.querySelector(e),s=t.querySelector(".tn-slider-artboard"),r=t.querySelector(".tn-wrapper");r&&(s=r);let l=t.querySelectorAll(".tn-slide"),a=t.querySelectorAll(".tn-slide-elem"),o=t.querySelectorAll(".tn-slider-block"),n=t.querySelectorAll(".prev"),d=t.querySelectorAll(".next"),c=t.querySelectorAll(".tn-slider-spacing"),f=t.querySelectorAll(".tn-slider-styles");l.forEach((e=>{e.classList.remove("slides","active")})),a.forEach((e=>{e.classList.remove("tn-slide-elem","active")})),o.forEach((e=>{e.classList.remove("tn-slider-block","active","inactive"),e.style.display=""})),c.forEach((e=>{e.remove()})),f.forEach((e=>{e.remove()})),s.classList.remove("tn-slider-artboard"),s.querySelectorAll(".tn-elem").forEach((e=>{e.style.pointerEvents=""})),n.forEach((e=>e.classList.remove("tn-controls","active","inactive"))),d.forEach((e=>e.classList.remove("tn-controls","active","inactive"))),i.removeAttribute("style"),r||s.removeAttribute("style")};window.t_getCurrentScale=function(e){let t,i=1,s=0;if(void 0===e)void 0!==window.tn_scale_factor&&(i=window.tn_scale_factor);else{let r=document.querySelector(e);if(r){let e=r.querySelector(".t396__artboard"),l="window"===t396_ab__getFieldValue(e,"upscale"),a=r.getAttribute("id").replace("rec","");if(window.tn){if(window.tn["ab"+a]&&window.tn["ab"+a].scaleFactor){if(window.rescale&&window.rescale["ab"+a]&&!window.rescale.disabled)switch(window.rescale["ab"+a].direction){case"upscale":t=window.rescale["ab"+a].breakpoints[0];break;case"downscale":t=window.rescale["ab"+a].breakpoints[1];break;default:t=void 0!==window.rescale["ab"+a].breakpoints[1]?window.rescale["ab"+a].breakpoints[1]:window.rescale["ab"+a].breakpoints[0]}else t=window.tn["ab"+a].canvas_min_width,t>window.tn["ab"+a].curResolution_max&&(t=window.tn["ab"+a].curResolution_max);i=l?window.tn["ab"+a].scaleFactor:1,1===i&&(s=window.tn["ab"+a].grid_offset_left)}}else void 0!==window.tn_scale_factor&&(i=window.tn_scale_factor)}}return{breakpoint:t,factor:i,offset:s}},window.t_filterElems=function(e,t){void 0===t&&(t={}),void 0===t.nesting&&(t.nesting=1),void 0===t.exclude&&(t.exclude=!1);let i=[];return e.length&&e.forEach((function(e){let s=e;if(s.classList.contains("tn-atom")&&(s=s.closest(".tn-elem")),t.exclude&&"none"===window.getComputedStyle(s).display)return;let r=s.closest(".tn-group");for(let e=1;e<t.nesting&&r;e++)r=r.parentElement?.closest(".tn-group");if(r&&null!==r)-1===i.indexOf(s.closest(".tn-group"))&&i.push(s.closest(".tn-group"));else{let r=e.closest(".tn-molecule");if(r){let e=r.closest(".tn-group");for(let i=1;i<t.nesting&&e;i++)e=e.parentElement?.closest(".tn-group");e&&null!==e?-1===i.indexOf(r.closest(".tn-group"))&&i.push(r.closest(".tn-group")):-1===i.indexOf(s)&&i.push(s)}else-1===i.indexOf(s)&&i.push(s)}})),i},window.t_arrangeElems=function(e,t,i){if(Array.from(e).every((function(e){let t=e.closest(".tn-molecule");return t&&t.parentElement?.classList.contains("t396__group-flex")})))return e;if(void 0===i&&(i="top"),e.length>0){if(t&&t.length>0){let s=Array.from(t).map(((e,t)=>{let i;return i=e.classList.contains("tn-group")?"group":"field",{elem:e,left:parseInt(t396_elem__getFieldValue(e,"left"))||0,top:parseInt(t396_elem__getFieldValue(e,"top"))||0,width:parseInt(t396_elem__getFieldValue(e,"width"))||0,height:parseInt(t396_elem__getFieldValue(e,"height"))||0,index:t}}));s.sort((function(e,t){switch(i){case"top":return Math.abs(e.top-t.top)<=(e.height+t.height)/4?e.left-t.left:e.top-t.top;case"left":return Math.abs(e.left-t.left)<=(e.width+t.width)/4?e.top-t.top:e.left-t.left}}));let r=new Map;s.forEach(((e,t)=>{r.set(e.index,t)}));let l=Array.from(e).map(((e,t)=>({elem:e,baseIndex:r.get(t)})));return l.sort(((e,t)=>e.baseIndex-t.baseIndex)),l.map((e=>e.elem))}{let t=Array.from(e).map((function(e){let t;return t=e.classList.contains("tn-group")?"group":"field",{elem:e,left:parseInt(t396_elem__getFieldValue(e,"left"))||0,top:parseInt(t396_elem__getFieldValue(e,"top"))||0,width:parseInt(t396_elem__getFieldValue(e,"width"))||0,height:parseInt(t396_elem__getFieldValue(e,"height"))||0}}));return t.sort((function(e,t){switch(i){case"top":return Math.abs(e.top-t.top)<=(e.height+t.height)/4?e.left-t.left:e.top-t.top;case"left":return Math.abs(e.left-t.left)<=(e.width+t.width)/4?e.top-t.top:e.left-t.left}})),t.map((e=>e.elem))}}return[]},window.t_animateElems=function(e,t){if("function"==typeof t_animate__init){let i=e.querySelectorAll(".tn-elem.t-animate"),s=e.querySelectorAll(".tn-elem:has(.tn-atom__sticky-wrapper)"),r=function(e){"function"==typeof t_animateFix__cacheElsInfo&&setTimeout((function(){t_animateFix__cacheElsInfo(e)}),300),"function"==typeof t_animateFix__updatePositions&&setTimeout((function(){t_animateFix__updatePositions(e,!0)}),300)};switch(t){case"start":i.forEach((e=>{e.classList.contains("t-animate_wait")&&(e.classList.remove("t-animate_wait"),e.classList.add("t-animate_started"))})),r(s);break;case"reset":i.forEach((e=>{e.classList.contains("t-animate_started")&&(e.classList.remove("t-animate_started"),e.classList.add("t-animate_wait"))})),r(s);break;default:i.forEach((e=>{e.classList.contains("t-animate_wait")?(e.classList.remove("t-animate_wait"),e.classList.add("t-animate_started")):(e.classList.remove("t-animate_started"),e.classList.add("t-animate_wait"))})),r(s)}}if("function"==typeof t_animationSBS__init){let i=Array.from(e.querySelectorAll(".tn-elem[data-animate-sbs-opts]")).filter((e=>{let t=e.getAttribute("data-animate-sbs-event");return"hover"!==t&&"click"!==t})),s=e.querySelectorAll('.tn-elem[data-animate-sbs-event="scroll"]');if(s={elements:Array.prototype.slice.call(s),scrollTop:window.pageYOffset,isEditMode:!1},t_animationSBS__cacheAndSetData(s),t_animationSBS__generateKeyframes(s),i.length>0)switch(t){case"start":i.forEach((e=>{e.classList.contains("t-sbs-anim_started")||e.classList.add("t-sbs-anim_started")})),t_animationSBS__triggerScrollAnim(s);break;case"reset":i.forEach((e=>{e.classList.contains("t-sbs-anim_started")||e.classList.remove("t-sbs-anim_started")}));break;default:i.forEach((e=>{e.classList.contains("t-sbs-anim_started")?e.classList.add("t-sbs-anim_started"):e.classList.remove("t-sbs-anim_started")}))}}},window.t_checkVisibility=function(e){let t=e.getAttribute("data-screen-max"),i=e.getAttribute("data-screen-min"),s=!0;return null!==t&&window.innerWidth>parseInt(t)&&(s=!1),null!==i&&window.innerWidth<parseInt(i)&&(s=!1),s},window.t_checkUniformity=function(e){if(e.length<=1)return!0;let t=e[0];return e.every((e=>e===t))},window.t_convertToHex=function(e){let t=e.match(/\d+\.?\d*/g);return!(!t||3!==t.length&&4!==t.length)&&((4!==t.length||0!==parseFloat(t[3]))&&"#"+parseInt(t[0]).toString(16).padStart(2,"0")+parseInt(t[1]).toString(16).padStart(2,"0")+parseInt(t[2]).toString(16).padStart(2,"0"))},window.t_catchEvent=function(e,t){let i=new Set,s=new Set;e.split(", ").map((function(e){return e.trim()})).forEach((function(e){s.add(e),window.addEventListener(e,(function(){i.add(e),i.size===s.size&&t()}))}))},window.t_dispatchEvent=function(e,t,i,s){void 0===s&&(s=10),void 0===t&&(t=""),i=void 0===i?"":"-"+i,setTimeout((function(){window.dispatchEvent(new Event(e+t+i))}),s)},window.t_sendError=function(e,t,i){window.mods||(window.mods={}),window.mods.errors||(window.mods.errors=[]),void 0===i&&(i="error");let s,r,l=e.indexOf("-");if(-1!==l?(s=e.substring(0,l),r=e.substring(l+1)):(s=e,r=void 0),!window.mods.errors.some((function(e){return e.message===t}))){let e={mod:s,type:i};void 0!==r&&(e.id=r),void 0!==t&&(e.message=t),window.mods.errors.push(e)}switch(i){case"error":i="РћС€РёР±РєР°",console.error("["+s+".js] "+i+": "+t);break;case"warn":i="РџСЂРµРґСѓРїСЂРµР¶РґРµРЅРёРµ",console.warn("["+s+".js] "+i+": "+t)}},void 0===window.postnikovmd&&(window.postnikovmd="Maksim Postnikov, https://postnikovmd.com"),e.slider={init:t,scrollTo:r,destroy:u,version:"1.4",license:"MIT License: https://postnikovmd.com/mods/license",copyright:"В© 2025 Maksim Postnikov"}}(window);